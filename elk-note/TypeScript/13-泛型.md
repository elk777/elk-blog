
## æ³›å‹


### å®šä¹‰
å¸¦æœ‰ç±»å‹çš„å‚æ•°ã€ŒåŠ¨æ€ç±»å‹ã€
```typescript
function fn (arr) {
    // arrå…·æœ‰éšå¼anyç±»å‹çš„éšæ‚£ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸ç¡®å®šä¼ é€’çš„å…·ä½“ç±»å‹æ˜¯ä»€ä¹ˆ
    return arr[0]  
}
// å®šä¹‰æ³›å‹
function  Nfn<T>(arr:T[]): Array<T> {
    return  arr
}
Nfn([1,2]) // TSä¹Ÿä¼šå¸®æˆ‘æ¨æ–­ä¼ é€’çš„ç±»å‹ä¸ºnumber
Nfn<number>([1,2,3])
```
### å†™æ³•
<br/>

#### 1.å‡½æ•°æ³›å‹çš„å†™æ³•

```typescript
// å•ä¸ªæ³›å‹å‚æ•°
function  fn1<T>(a:T): T {
    return  a
}
// ä¸åŒæ³›å‹å‚æ•°
fn1<number>(1) // 1
function fn2<T,U>(a:T, b:u): Array<T|U> {
    return [a,b]
}
fn2<number,string>(1,'2') // [1, '2']
```
####  2.æ¥å£æ³›å‹çš„å†™æ³•

```typescript
interface Iname<T> {
    name: T
}
let lucky: Iname<string> = {
    name: 'lucky'
}

interface Ifn<T> {
    (name:T): T
}
function  fn<T>(name:T):T {
    return  name
}
const elk = Ifn<string>('elk')
```
#### 3.ç±»æ³›å‹çš„å†™æ³•
è·Ÿå‡½æ•°æ³›å‹å®šä¹‰ä¸€æ ·ï¼Œå®šä¹‰ä¸€ä¸ªæœªçŸ¥çš„ç±»å‹T
```typescript
class Persion<T> {
    name: T 
    constructor(name:T) {
        this.name = name;
    }
    setName(name:T){
        this.name = name
    }
}
const elk = new Persion<string>('elk')
```
### ç±»å‹å‚æ•°é»˜è®¤å€¼
```typescript
function fn<T = string>(a:T):Array<T> {
    return [a]
}
fn[1] // ä¸å®šä¹‰ç±»å‹ï¼ŒTSä¼šå¸®æˆ‘æ¨æ–­ç±»å‹ä¸ºnumber ä»è€Œè¦†ç›–é»˜è®¤å€¼
class Student<T = string> {
    name: T
    constructor(name: T) {
        this.name= name;
    }
    setName(name:T) {
        this.name = name;
    }
}
let elk = new Student<number>();
let lucky = new Student();
lucky.setName("lucky")   // ['lucky']
elk.setName(1)        // [1]
```
### ç±»å‹å‚æ•°çš„çº¦æŸæ¡ä»¶
 ```typescript
function fn4<T>(a:T,b:T) {
    // Tç±»å‹ä¸å­˜åœ¨lengthå±æ€§ï¼ŒæŠ¥é”™
    if(a.length >= b.length) {
        return a
    }
    return b
}
// é€šè¿‡extendså…³é”®å­—å°†ç±»å‹å‚æ•°è¿›è¡Œäº†çº¦æŸï¼Œå¿…é¡»å«æœ‰lengthè¿™ä¸ªå±æ€§æ‰èƒ½ä½¿ç”¨
interface ILen {
    length: string
}
function fn4<T extends ILen>(a:T,b:T) {
    if(a.length >= b.length) {
        return a
    }
    return b
}
fn4(1,2);  // numberä¸å…·å¤‡lengthå±æ€§  æŠ¥é”™
fn4('elk','lucky');  //  stringå…·æœ‰lengthå±æ€§, è¾“å‡ºb
fn4([1,2],[3,4,5])   //  number[]å…·æœ‰lengthå±æ€§, è¾“å‡ºb

// å¯¹è±¡çš„çº¦æŸæ¡ä»¶ --- keyof
let obj = {
    name: 'elk',
    age: 18
}
type TKey = keyof typeof  obj  //  name || age  
function ob<T extends  object, K extends  keyof  T>(obj: T, key: k) {
    // å•ç‹¬ K æŠ¥é”™ï¼Œç±»å‹â€œKâ€æ— æ³•ç”¨äºç´¢å¼•ç±»å‹â€œTâ€
    // éœ€è¦é€šè¿‡keytof å…³é”®å­—è·å–å¾—åˆ°ç±»å‹Tä¸­çš„å±æ€§ã€Œname || ageã€
    return obj[key]
}
ob(obj, 'name') // elk
ob(obj, 'age') // 18
ob(obj, 'sex') // æŠ¥é”™
ob({sex: 'man'}, "sex") // man

// é«˜çº§ç”¨æ³•
interface IPersion {
    name: string,
    age: number,
    sex: string
}
type TOptions<T extends IPersion> = {
    [key in keyof T]?: T[key]
}
type TElk = TOptions<IPersion>
//æ­¤æ—¶ TElk =  { name?: string, age?: number, sex?: string }
```

### ä½¿ç”¨æ³›å‹æ³¨æ„ç‚¹
<br/>

#### 1.å°½é‡å°‘ä½¿ç”¨æ³›å‹
  æ³›å‹è™½ç„¶çµæ´»ï¼Œä½†æ˜¯ä¼šåŠ å¤§ä»£ç çš„å¤æ‚æ€§ï¼Œä½¿å…¶å˜å¾—éš¾è¯»éš¾å†™ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåªè¦ä½¿ç”¨äº†æ³›å‹ï¼Œç±»å‹å£°æ˜é€šå¸¸éƒ½ä¸å¤ªæ˜“è¯»ï¼Œå®¹æ˜“å†™å¾—å¾ˆå¤æ‚ã€‚å› æ­¤ï¼Œå¯ä»¥ä¸ç”¨æ³›å‹å°±ä¸è¦ç”¨ã€‚

#### 2.ç±»å‹å‚æ•°è¶Šå°‘è¶Šå¥½
  å¤šä¸€ä¸ªç±»å‹å‚æ•°ï¼Œå¤šä¸€é“æ›¿æ¢æ­¥éª¤ï¼ŒåŠ å¤§å¤æ‚æ€§ã€‚å› æ­¤ï¼Œç±»å‹å‚æ•°è¶Šå°‘è¶Šå¥½ã€‚

#### 3.ç±»å‹å‚æ•°éœ€è¦å‡ºç°ä¸¤æ¬¡
  å¦‚æœç±»å‹å‚æ•°åœ¨å®šä¹‰ååªå‡ºç°ä¸€æ¬¡ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½æ˜¯ä¸å¿…è¦çš„ã€‚

#### 4.æ³›å‹å¯ä»¥åµŒå¥—
  ç±»å‹å‚æ•°å¯ä»¥æ˜¯å¦ä¸€ä¸ªæ³›å‹


### æ³›å‹åº”ç”¨ç¤ºä¾‹
åœ¨æ¥å£ä¸Šçš„åº”ç”¨å®ä¾‹
```typescript
/*
* dv.json
*  {
*     "code": 200,
*     "msg": "è·å–æˆåŠŸ"
*  }
* */
const axios = {
    get<T>(url:string):Promise<T> {
        let xhr = new XMLHttpRequest();
        xhr.open('GET',url);
        xhr.onreadystatechange = () => {
            if(xhr.readyState === 4 && xhr.status === 200) {
                resolve(JSON.parse(xhr.responseText))
            }
        }
        xhr.send(null)
    }
}
interface IData {
    code: number,
    msg: string
}
axios.get<IData>('db.json').then( res => {
    console.log("ğŸš€ ~ res:", res)
    res.msg // è·å–æˆåŠŸ
    res.code  // 200
})
```

