
## è£…é¥°å™¨


### ç®€ä»‹
è£…é¥°å™¨æ˜¯ä¸€ç§ç‰¹æ®Šç±»åž‹çš„å£°æ˜Žï¼Œå®ƒèƒ½å¤Ÿè¢«é™„åŠ åˆ°ç±»å£°æ˜Žï¼Œæ–¹æ³•ï¼Œ è®¿é—®ç¬¦ï¼Œå±žæ€§æˆ–å‚æ•°ä¸Šã€‚

```typescript
const simpleDecorator = function (value: any) {
    console.log("hi");   
    return value;
}
@simpleDecorator
class B {};  // hi
```
### è£…é¥°å™¨å·¥åŽ‚
```typescript
const watcher = (name:string) : ClassDecorator => {
    return  (target:Function) => {
        target.prototype.getParams = <T>(params:T): T => {
            return  params
        }
        target.prototype.getName = () => {
            return name
        }
    }
}
@watcher('elk')
class  A {}
const a = new A()
(a as any).getParams('123')    // 123
(a as any).getName()           // elk
```
### è£…é¥°å™¨ç»„åˆ
å¯ä»¥ä½¿ç”¨å¤šä¸ªè£…é¥°å™¨
```typescript
const watcher1 = (name:string) : ClassDecorator => {
    return  (target:Function) => {
        target.prototype.getParams = <T>(params:T): T => {
            return  params
        }
        target.prototype.getName = () => {
            return name
        }
    }
}
const watcher2 = (name:string) : ClassDecorator => {
    return  (target:Function) => {
        target.prototype.getOptions = () => {
            return name
        }
    }
}
@watcher1('elk')
@watcher2("lucky")
class  A {}
const a = new A()
(a as any).getOptions()   // lucky
(a as any).getParams('234')  // 234
```
### æ–¹æ³•è£…é¥°å™¨
```typescript
const met: MethodDecorator = (...args) => {
    console.log("args", args)
    /*
        args [
          {},
          'getParams',
          {
            value: [Function: getParams],
            writable: true,
            enumerable: false,
            configurable: true
          }
        ]
    */
}

class  B {
    // ç­‰æ•ˆäºŽ B.prototype.getParams = met(B.prototype.getParams)
    @met
    getParams(params: string) {
        return params
    }
}
const b = new B()
/*
* args [
  {},
  'getParams',
  {
    value: [Function: getParams],
    writable: true,
    enumerable: false,
    configurable: true
  }
]
* */
b.getParams('elk') 
// æ‰“å°ä¸Šæ”¾ metä¸­å‡½æ•°æ‰“å°çš„å†…å®¹ï¼Œ ä»¥åŠ è¿”å›ž elk
```
### å±žæ€§è£…é¥°å™¨
```typescript
const decorator: PropertyDecorator = (...args) => {
    console.log("decorator", args)
}
class C {
    @decorator
    name:string = 'elk'
}
const c = new C();
// decorator[ {}, 'name', undefined ] 
console.log("ðŸš€ ~ c:", c)    //  C { name: 'elk'}
console.log("ðŸš€ ~ C.name:", c.name)   // elk
```
### å‚æ•°è£…é¥°å™¨
```typescript
const paramDecorator: ParameterDecorator = (...args) => {
    console.log("paramDecorator", args)
}
class D {
    getParams(@paramDecorator params:string) {
        return params
    }
}
const d = new D();
// paramDecorator [ {}, 'getParams', 0 ]
console.log("ðŸš€ ~ d:", d)   // D {}
console.log("ðŸš€ ~ d.getParams('234'):", d.getParams('234'))  // 234
```
